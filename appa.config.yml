storage_uri: 'storage'

tasks:
  # Collector
  - name: 'twitter'
    command: 'node'
    path: 'collector/twitter.js'

  # Text Analyzing
  - name: 'spacy.stopwords'
    command: 'python'
    path: 'tasks/spacy_tasks/normalize.py'
  - name: 'spacy.tree'
    command: 'python'
    path: 'tasks/spacy_tasks/tree.py'

  # Sentiment Task
  - name: 'sentiment'
    command: 'python'
    path: 'tasks/sentiment.py'

processors:
  - name: 'tweets'
    id_prop: 'id'
    collector_tasks:
      twitter: tweet
    sync_tasks:
      normalized_text: spacy.stopwords
    async_tasks:
      lexical_tree: spacy.tree
      sentiment: sentiment
  - name: 'users'
    id_prop: 'id'
    collector_tasks:
      twitter: user
    sync_tasks: {}
    async_tasks: {}